<div class="project-container">
    <div class="project-container-title">
        <h2 class="project-title">{{ data?.title }}</h2>
        <div class="project-tags">
            @for(tag of data?.tags; track tag) {
                <span class="project-tag">{{ tag }}</span>
            }
        </div>
    </div>
    @if(!hasContent()) {
            <div class="no-content-message">
                <p>No content available for this project.</p>
            </div>
        }
    @else {
    <div class="project-content">
        @if(data?.videos && data?.videos!.length > 0) {
            <!-- show first video -->
            <div class="content-row video-row">
                <div class="content-video">
                    <video controls [src]="data?.videos![0]"></video>
                </div>
            </div>
        }
        @for(item of getContentItems(); let i = $index; track i) {
            @if(item.type === 'description') {
                <div class="content-row description-row">
                    <div class="content-text">
                        <p>{{ item.content }}</p>
                    </div>
                </div>
            }
            @if(item.type === 'images-row') {
                <div class="content-row images-row">
                    @for(image of item.content; track image) {
                        <div class="content-image">
                            <img [src]="image" [alt]="data?.title" />
                        </div>
                    }
                </div>
            }  
        }
        @if(data?.videos && data?.videos!.length > 1) {
                <!-- show other videos -->
                 @for(video of data?.videos!.slice(1); track video) {
                    <div class="content-row video-row">
                        <div class="content-video">
                            <video controls [src]="video"></video>
                        </div>
                    </div>
                 }
            }
            @if(data?.link) {
                <div class="content-row link-row">
                    <div class="content-text">
                        <p>Check out the project here: <a [href]="data?.link" target="_blank" rel="noopener">{{ data?.link }}</a></p>
                    </div>
                </div>
            }
    </div>

    }

    <!-- Related Projects Section -->
    @if(relatedProjects.length > 0) {
        <div class="related-projects-section">
            <h3 class="related-projects-title">Related projects</h3>
            <div class="related-projects-container">
                @for(project of relatedProjects; track project.id) {
                    <app-project
                        [project]="project"
                        [title]="project.title"
                        [img]="project.portrait"
                        [tags]="project.tags"
                        [link]="project.link"
                    ></app-project>
                }
            </div>
        </div>
    }
</div>



